🟢 [사전 설정] AI 페르소나 부여 (가장 먼저 입력)
> 프롬프트 0:
> 너는 HTML, CSS, Vanilla JavaScript, 그리고 Apache Cordova 하이브리드 앱 개발 전문가야. 지금부터 내가 요청하는 단계에 맞춰 '날씨에 따라 옷을 추천해주는 개인 옷장 앱'을 만들 거야. 코드는 항상 모듈화하고, 최신 ES6 문법을 사용해줘. 디자인은 모던하고 깔끔한 모바일 앱 스타일로 작성해줘.
> 
🏗️ 1단계: 기본 구조 및 UI (HTML/CSS)
1. 기본 레이아웃
> index.html의 기본 뼈대를 잡아줘. 뷰포트 메타 태그를 포함하고, FontAwesome CDN을 링크해줘. 전체 앱을 감싸는 컨테이너와 하단 네비게이션 바(메인, 옷장 탭)가 있는 구조를 만들어줘.
> 
2. CSS 초기화 및 변수
> style.css를 생성해. 모든 요소의 box-sizing: border-box 설정과 body의 마진/패딩 제거를 해줘. 메인 테마 컬러(하늘색 계열)와 배경색, 폰트 설정을 CSS 변수(:root)로 정의해줘.
> 
3. 화면 전환 구조
> 메인 화면(home-screen)과 옷장 화면(closet-screen) 섹션을 만들고, CSS 클래스 .active 유무에 따라 화면이 전환되도록 display: none/block 처리를 해줘. 하단 탭을 누르면 화면이 바뀌는 기본적인 JS 함수(switchTab)도 작성해줘.
> 
4. 메인 화면 - 날씨 카드 UI
> 메인 화면 상단에 날씨 정보를 보여줄 카드를 디자인해줘. 도시 이름, 현재 온도, 날씨 상태(텍스트), 최고/최저 기온이 들어갈 자리를 잡아줘. 배경은 그라데이션으로 예쁘게 처리해줘.
> 
5. 메인 화면 - 옷 추천 UI (색상 박스 형태)
> 날씨 카드 아래에 '오늘의 추천 의상' 영역을 만들어줘. 상의(Inner)와 아우터(Outer)를 보여줄 건데, 옷 이미지가 아니라 '색상(Color) 박스'와 '옷 이름'이 표시되도록 심플하게 디자인해줘. 상단에는 날씨 코멘트가 나올 경고 박스(.alert-box)도 추가해줘.
> 
6. 옷장 화면 - 그리드 레이아웃
> 옷장 화면에는 옷들이 바둑판식으로 나열되도록 CSS Grid를 사용해 .closet-grid를 만들어줘. 각 아이템은 색상 프리뷰 박스와 이름으로 구성된 카드 형태여야 해.
> 
7. 옷장 화면 - 필터 및 헤더
> 옷장 상단에 '내 옷장' 제목과 '추가(+)' 버튼을 배치해. 그 아래에는 가로 스크롤이 가능한 카테고리 필터(전체, 아우터, 상의, 하의) 버튼들을 만들어줘.
> 
8. 의상 추가 화면 UI
> add-screen이라는 id로 의상 추가 화면을 별도로 만들어줘. 이름 입력(input), 카테고리 선택 버튼, 색상 선택(Color Picker), 두께 선택 버튼, 저장 버튼이 포함된 폼 형태여야 해.
> 
9. 모달창 UI
> 옷장 아이템을 클릭했을 때 상세 정보를 보여줄 모달(detail-modal) HTML/CSS를 작성해줘. 옷 이름, 카테고리, 큰 색상 원, 그리고 '삭제하기' 버튼이 있어야 해.
> 
🧠 2단계: 데이터 관리 및 로직 (JavaScript)
10. 데이터 구조 정의
> 옷 데이터를 관리할 객체 구조를 정의해줘. name(문자열), category(outer, top, bottom), color(Hex코드) 속성을 가져야 해.
> 
11. 로컬 스토리지 - 저장/불러오기
> 브라우저의 localStorage를 사용하여 옷 데이터를 저장(saveData)하고 불러오는(loadData) 함수를 작성해줘. 키 값은 'myClosetData'로 해줘.
> 
12. 초기 데이터 생성 (더미 데이터)
> 앱을 처음 실행해서 저장된 데이터가 없을 경우, 자동으로 등록될 기본 옷 6벌(베이지 가디건, 검정 자켓, 흰 티셔츠 등)을 생성하고 저장소에 넣는 로직을 loadClosetFromStorage 함수에 추가해줘.
> 
13. 옷장 렌더링 함수
> 저장된 데이터를 바탕으로 .closet-grid 안에 HTML 요소를 동적으로 생성하는 함수를 만들어줘. forEach를 사용하고, 각 아이템 클릭 시 상세 모달을 여는 onclick 이벤트도 연결해줘.
> 
14. 아이템 개수 카운트
> 현재 옷장에 표시된 아이템의 개수를 세서 화면(.count-text)에 "N items"라고 업데이트하는 기능을 추가해줘.
> 
15. 랜덤 아이템 뽑기 로직
> 특정 카테고리('top', 'outer' 등)를 인자로 받으면, 내 옷장에서 해당 카테고리에 속한 옷 중 하나를 무작위로 반환하는 getRandomItemFromCloset(category) 함수를 작성해줘.
> 
🌤️ 3단계: 날씨 API 및 위치 연동
16. OpenWeatherMap 설정
> API_KEY 변수를 선언해. (키는 나중에 넣을 테니 빈칸 혹은 예시로 둬). 위도(lat), 경도(lon)를 받아 날씨 API를 호출하는 비동기 함수(getWeatherByLocation)를 작성해줘.
> 
17. 위치 권한 요청 (웹 표준)
> navigator.geolocation.getCurrentPosition을 사용하여 사용자의 현재 위치를 받아오는 askForLocation 함수를 작성해줘. 성공 시 날씨 함수를 호출하고, 실패 시 서울 좌표를 기본값으로 사용해.
> 
18. 날씨 UI 업데이트
> API에서 받은 JSON 데이터를 파싱해서 화면의 도시 이름, 온도, 날씨 상태, 최고/최저 기온 텍스트를 업데이트하는 코드를 작성해. 온도는 Math.round로 반올림해줘.
> 
👗 4단계: 추천 알고리즘 및 통합
19. 온도별 추천 로직 (조건문)
> 현재 온도를 기준으로 옷을 추천하는 recommendOutfitByTemp(temp) 함수를 만들어.
> * 23도 이상: 상의만 추천 ("더워요!")
> * 15도~22도: 상의 + 아우터 ("일교차 주의")
> * 5도~14도: 상의 + 아우터 ("쌀쌀해요")
> * 5도 미만: 상의 + 아우터 ("추워요")
> 
20. 추천 시스템과 옷장 연동
> 위 추천 로직에서 옷을 고를 때, 앞서 만든 getRandomItemFromCloset 함수를 사용해서 내 옷장에 있는 옷을 가져오도록 연결해줘. 만약 옷이 없으면 '기본 티셔츠(회색)' 같은 안전장치(fallback) 데이터도 넣어줘.
> 
21. 추천 UI 반영
> 추천된 옷의 색상과 이름을 메인 화면의 '오늘의 추천 의상' 박스에 반영하는 updateUI 함수를 작성해. 아우터가 필요 없는 날씨면 아우터 박스는 숨겨줘(display: none).
> 
22. 날씨 코멘트 동적 변경
> 하드코딩된 "일교차가 커요!" 문구 대신, 온도별 상황에 맞는 멘트(예: "폭염입니다", "한파주의보")가 .alert-box와 하단 설명에 출력되도록 수정해줘.
> 
➕ 5단계: 옷 추가 및 삭제 기능
23. 카테고리 선택 UI 인터랙션
> 옷 추가 화면에서 '아우터', '상의', '하의' 버튼을 누르면 해당 버튼만 활성화(Selected 스타일 적용)되는 selectOption 함수를 만들어줘.
> 
24. 색상 선택 UI 인터랙션
> HTML <input type="color">의 값이 바뀌면, 옆에 있는 미리보기 버튼의 배경색과 텍스트(Hex 코드)가 바뀌도록 updateColorDisplay 함수를 작성해줘.
> 
25. 옷 저장 기능 구현
> '저장' 버튼을 누르면 입력된 이름, 카테고리, 색상 정보를 가져와 객체로 만들고, 배열 앞에 추가(unshift)한 뒤 로컬 스토리지에 저장하는 saveItem 함수를 완성해줘. 저장 후엔 입력창을 비우고 옷장 탭으로 이동시켜줘.
> 
26. 카테고리 필터링 기능
> 옷장 화면의 필터 버튼을 누르면, 해당 카테고리의 옷만 보여주고 나머지는 숨기는 filterCloset 함수를 구현해줘. 전체 보기 기능도 포함해야 해.
> 
27. 옷 삭제 기능
> 모달창에서 '삭제' 버튼을 누르면 현재 선택된 아이템을 배열과 로컬 스토리지에서 제거하고, 화면(Grid)에서도 삭제하는 deleteCurrentItem 함수를 작성해줘.
> 
📱 6단계: 하이브리드 앱(Cordova) 최적화
28. Cordova 초기화 감지
> window.onload 안에 Cordova 환경인지 체크하는 로직을 넣어줘. 모바일 앱 환경이면 deviceready 이벤트를 기다렸다가 위치 요청을 하고, 웹 브라우저면 즉시 위치 요청을 하도록 분기 처리해.
> 
29. 위치 플러그인 대응
> Cordova 앱에서는 cordova-plugin-geolocation이 필요해. 플러그인이 로드된 후 askForLocation이 실행되도록 타이밍을 조절하는 코드를 onDeviceReady 함수에 작성해줘.
> 
30. iOS 권한 설정 (Config.xml)
> iOS에서 위치 권한 팝업을 띄우기 위해 config.xml에 추가해야 할 NSLocationWhenInUseUsageDescription 설정 코드를 알려줘.
> 
31. 안드로이드 뒤로가기 버튼 대응 (선택사항)
> 안드로이드 물리 뒤로가기 버튼을 눌렀을 때, 모달이 열려있으면 모달만 닫고, 메인 화면이면 앱을 종료하는 이벤트 리스너를 추가해줘.
> 
🎨 7단계: 디테일 수정 및 마무리
32. FontAwesome 아이콘 적용
> 날씨 카드, 네비게이션 탭, 추가 버튼 등에 적절한 FontAwesome 아이콘(<i class="fas fa-...">)을 배치해서 시각적 완성도를 높여줘.
> 
33. 반응형/모바일 CSS 최적화
> 모바일 화면 크기에 맞춰 레이아웃이 깨지지 않도록 미디어 쿼리나 Flexbox 설정을 점검해줘. 버튼 터치 영역을 충분히 확보해줘.
> 
34. 전체 코드 병합 요청
> 지금까지 작성한 index.html, style.css, script.js의 전체 코드를 각각의 파일로 깔끔하게 정리해서 보여줘.
> 
35. 디버깅 가이드
> "위치 권한이 안 떠요", "옷이 저장이 안 돼요" 같은 흔한 오류 상황에 대해 체크해야 할 리스트를 알려줘.